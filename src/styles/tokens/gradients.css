:where(html) {
  /* Base crosshatch configuration */
  --crosshatch-grid-size: 1rem;
  --crosshatch-line-width: 1px;
  --crosshatch-diagonal-offset: calc(var(--crosshatch-grid-size) * 0.707);
  --crosshatch-diagonal-repeat: calc(var(--crosshatch-grid-size) * 1.414);

  /* Crosshatch color variants */
  --crosshatch-default: rgb(from var(--secondary-700) r g b / 0.3);
  --crosshatch-white: rgb(from var(--light-100) r g b / 0.15);
  --crosshatch-grid: rgb(from var(--light-400) r g b / 0.4);

  /* Active crosshatch color (can be overridden) */
  --crosshatch-color: var(--crosshatch-default);

  /* Reusable diagonal pattern generators */
  --diagonal-45: repeating-linear-gradient(
    45deg,
    transparent 0,
    transparent
      calc(var(--crosshatch-diagonal-offset) - var(--crosshatch-line-width)),
    var(--crosshatch-color)
      calc(var(--crosshatch-diagonal-offset) - var(--crosshatch-line-width)),
    var(--crosshatch-color) var(--crosshatch-diagonal-offset),
    transparent var(--crosshatch-diagonal-offset),
    transparent var(--crosshatch-diagonal-repeat)
  );

  --diagonal-neg45: repeating-linear-gradient(
    -45deg,
    transparent 0,
    transparent
      calc(var(--crosshatch-diagonal-offset) - var(--crosshatch-line-width)),
    var(--crosshatch-color)
      calc(var(--crosshatch-diagonal-offset) - var(--crosshatch-line-width)),
    var(--crosshatch-color) var(--crosshatch-diagonal-offset),
    transparent var(--crosshatch-diagonal-offset),
    transparent var(--crosshatch-diagonal-repeat)
  );

  /* Combined patterns */
  --crosshatch: var(--diagonal-45), var(--diagonal-neg45);

  /* White crosshatch - separate implementation */
  --crosshatch-white-45: repeating-linear-gradient(
    45deg,
    transparent 0,
    transparent
      calc(var(--crosshatch-diagonal-offset) - var(--crosshatch-line-width)),
    var(--crosshatch-white)
      calc(var(--crosshatch-diagonal-offset) - var(--crosshatch-line-width)),
    var(--crosshatch-white) var(--crosshatch-diagonal-offset),
    transparent var(--crosshatch-diagonal-offset),
    transparent var(--crosshatch-diagonal-repeat)
  );

  --crosshatch-white-neg45: repeating-linear-gradient(
    -45deg,
    transparent 0,
    transparent
      calc(var(--crosshatch-diagonal-offset) - var(--crosshatch-line-width)),
    var(--crosshatch-white)
      calc(var(--crosshatch-diagonal-offset) - var(--crosshatch-line-width)),
    var(--crosshatch-white) var(--crosshatch-diagonal-offset),
    transparent var(--crosshatch-diagonal-offset),
    transparent var(--crosshatch-diagonal-repeat)
  );

  --crosshatch-white-pattern:
    var(--crosshatch-white-45), var(--crosshatch-white-neg45);

  /* Grid patterns using the same system */
  --grid-horizontal: repeating-linear-gradient(
    0deg,
    transparent 0,
    transparent
      calc(var(--crosshatch-diagonal-offset) - var(--crosshatch-line-width)),
    var(--crosshatch-grid)
      calc(var(--crosshatch-diagonal-offset) - var(--crosshatch-line-width)),
    var(--crosshatch-grid) var(--crosshatch-diagonal-offset),
    transparent var(--crosshatch-diagonal-offset),
    transparent var(--crosshatch-diagonal-repeat)
  );

  --grid-vertical: repeating-linear-gradient(
    -90deg,
    transparent 0,
    transparent
      calc(var(--crosshatch-diagonal-offset) - var(--crosshatch-line-width)),
    var(--crosshatch-grid)
      calc(var(--crosshatch-diagonal-offset) - var(--crosshatch-line-width)),
    var(--crosshatch-grid) var(--crosshatch-diagonal-offset),
    transparent var(--crosshatch-diagonal-offset),
    transparent var(--crosshatch-diagonal-repeat)
  );

  --grid-css: var(--grid-horizontal), var(--grid-vertical);

  /* Centered grid system - customizable colors */
  --grid-centered-color: var(--light-300); /* Default white */
  --grid-centered-opacity: 0.5; /* Default 50% opacity */
  --grid-centered-size: var(--crosshatch-grid-size);
  --grid-centered-line-width: var(--crosshatch-line-width);

  --grid-centered-horizontal: repeating-linear-gradient(
    0deg,
    transparent 0,
    transparent
      calc(var(--grid-centered-size) - var(--grid-centered-line-width)),
    oklch(from var(--grid-centered-color) l c h / var(--grid-centered-opacity))
      calc(var(--grid-centered-size) - var(--grid-centered-line-width)),
    oklch(from var(--grid-centered-color) l c h / var(--grid-centered-opacity))
      var(--grid-centered-size)
  );

  --grid-centered-vertical: repeating-linear-gradient(
    90deg,
    transparent 0,
    transparent
      calc(var(--grid-centered-size) - var(--grid-centered-line-width)),
    oklch(from var(--grid-centered-color) l c h / var(--grid-centered-opacity))
      calc(var(--grid-centered-size) - var(--grid-centered-line-width)),
    oklch(from var(--grid-centered-color) l c h / var(--grid-centered-opacity))
      var(--grid-centered-size)
  );

  --grid-centered-pattern:
    var(--grid-centered-horizontal), var(--grid-centered-vertical);

  /* Grid centering utilities */
  --grid-centered-bg-size: var(--grid-centered-size) var(--grid-centered-size);
  --grid-centered-bg-position: center center;

  /* Legacy support */
  --box-hero-line-color: var(--crosshatch-color);
  --box-hero-grid-size: var(--crosshatch-grid-size);
  --box-hero-line-width: var(--crosshatch-line-width);
  --diagonal-1: var(--diagonal-45);
  --diagonal-2: var(--diagonal-neg45);
  --grid-line-color: var(--crosshatch-grid);
  --horizontal-1: var(--grid-horizontal);
  --vertical-1: var(--grid-vertical);

  /* Simple horizontal lines */
  --horizontal-lines: repeating-linear-gradient(
    0deg,
    transparent 0,
    transparent calc(1rem - 1px),
    var(--light-300) calc(1rem - 1px),
    var(--light-300) 1rem
  );

  /* Light grid system - for headers/light backgrounds */
  --grid-light-color: var(--light-100); /* White */
  --grid-light-opacity: 0.1; /* Subtle opacity */
  --grid-light-size: var(--crosshatch-grid-size);
  --grid-light-line-width: var(--crosshatch-line-width);

  --grid-light-horizontal: repeating-linear-gradient(
    0deg,
    transparent 0,
    transparent calc(var(--grid-light-size) - var(--grid-light-line-width)),
    oklch(from var(--grid-light-color) l c h / var(--grid-light-opacity))
      calc(var(--grid-light-size) - var(--grid-light-line-width)),
    oklch(from var(--grid-light-color) l c h / var(--grid-light-opacity))
      var(--grid-light-size)
  );

  --grid-light-vertical: repeating-linear-gradient(
    90deg,
    transparent 0,
    transparent calc(var(--grid-light-size) - var(--grid-light-line-width)),
    oklch(from var(--grid-light-color) l c h / var(--grid-light-opacity))
      calc(var(--grid-light-size) - var(--grid-light-line-width)),
    oklch(from var(--grid-light-color) l c h / var(--grid-light-opacity))
      var(--grid-light-size)
  );

  --grid-light-pattern:
    var(--grid-light-horizontal), var(--grid-light-vertical);

  /* Grid light utilities */
  --grid-light-bg-size: var(--grid-light-size) var(--grid-light-size);
  --grid-light-bg-position: center top;
}
